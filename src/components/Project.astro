---
import '../styles/hover.css';
interface Props {
    title: string;
    languages: string;
    description: string;
    github?: string;
    url?: string;
}
import GithubIcon from '../icons/GithubIcon.astro';
import ExternalLink from '../icons/ExternalLink.astro';


const { title, languages, description, github, url } = Astro.props;
---

<div class={`relative project inset-0 bg-gray-600 rounded-[12px] h-[140px] w-full`}>
    <div class="absolute inset-0 bg-gradient-radial rounded-[12px] z-0"></div>

    <div class="relative m-[2px] bg-black group hover:bg-gray-900 transition-colors rounded-[10.5px] p-2 lg:p-4 z-10 h-[136px]">
        {url && 
            <a class="absolute inset-0 z-20" href={url} target="_blank" rel="noreferrer">
                <span class="sr-only">{title} - open project</span>
            </a>
        }
        <div class="flex w-full align-middle justify-between relative">
            <span class="flex items-center rounded-lg text-2xl transition-all truncate group pointer-events-none">
                {title}
                
                {url && 
                    <div class="opacity-0 transition-opacity group-hover:opacity-100">
                        <ExternalLink />
                    </div>
                }
            </span>
            
            {github && 
                <a class="hover:scale-105 transition-all shrink-0 relative z-30" 
                   href={github} 
                   target="_blank" 
                   rel="noreferrer"
                   onclick="event.stopPropagation()">
                    <GithubIcon />
                </a>
            }
        </div>
        <span class="leading-none text-xs font-normal text-gray-400">{languages}</span>
        <p class="line-clamp-4 text-sm md:text-base pointer-events-none">{description}</p>
    </div>
</div>

<script>
  import { initializeHover } from '../scripts/hover.js';
  initializeHover('.project');
</script>